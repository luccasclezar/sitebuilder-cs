Bridge.assembly("SiteBuilder",function($asm){"use strict";Bridge.define("SiteBuilder.App",{statics:{contextMenuVisible:!1,contextMenuControlRef:null,controls:null,theme:null,config:{init:function(){this.controls=new(System.Collections.Generic.Dictionary$2(String,SiteBuilder.Control));this.theme=new SiteBuilder.Theme;Bridge.ready(this.main)}},main:function(){SiteBuilder.ContextMenu.setBindings();SiteBuilder.Theme.setThemeBindings();$(document).keydown($asm.$.SiteBuilder.App.f1)},themeClicked:function(){SiteBuilder.Theme.updateThemePanel();document.getElementById("theme").getBoundingClientRect().left>=$("body").innerWidth()?$("#theme").transition({x:"-512px"},300):$("#theme").transition({x:"0"},300)},toggleControlList:function(){}},$entryPoint:!0});Bridge.ns("SiteBuilder.App",$asm.$);Bridge.apply($asm.$.SiteBuilder.App,{f1:function(e){e.which===46&&SiteBuilder.ContextMenu.deleteControl()}});Bridge.define("SiteBuilder.Control",{statics:{id:0},config:{properties:{Identifier:0,Type:0,HorizontalAlignment:null,VerticalAlignment:null,MarginLeft:null,MarginTop:null,MarginRight:null,MarginBottom:null,Left:null,Top:null,Right:null,Bottom:null,Width:null,Height:null}}});Bridge.define("SiteBuilder.Constants",{statics:{identifier:"identifier"}});Bridge.define("SiteBuilder.ContextMenu",{statics:{calculateWidth:function(element){var $t,$t1,$t2,$t3,$t4,jElement=$(element),control=System.Linq.Enumerable.from(SiteBuilder.App.controls).first(function(item){return Bridge.referenceEquals(item.key,jElement.data(SiteBuilder.Constants.identifier))}).value,left=($t=control.getLeft(),$t!=null?$t:"0px"),right=($t1=control.getRight(),$t1!=null?$t1:"0px"),width=($t2=control.getWidth(),$t2!=null?$t2:"0px"),paddingLeft="0",paddingRight="0";try{paddingLeft=($t3=Bridge.as(control,SiteBuilder.ContainerControl).getPaddingLeft(),$t3!=null?$t3:"0px");paddingRight=($t4=Bridge.as(control,SiteBuilder.ContainerControl).getPaddingRight(),$t4!=null?$t4:"0px")}catch($e1){if($e1=System.Exception.create($e1),!Bridge.is($e1,System.InvalidCastException))throw $e1;}System.String.contains(left,"px")||System.String.contains(left,"%")||(left=System.String.concat(left,"px"));System.String.contains(right,"px")||System.String.contains(right,"%")||(right=System.String.concat(right,"px"));System.String.contains(paddingLeft,"px")||System.String.contains(paddingLeft,"%")||(paddingLeft=System.String.concat(paddingLeft,"px"));System.String.contains(paddingRight,"px")||System.String.contains(paddingRight,"%")||(paddingRight=System.String.concat(paddingRight,"px"));System.String.contains(width,"px")||System.String.contains(width,"%")||(width=System.String.concat(width,"px"));$(SiteBuilder.App.contextMenuControlRef).css("width",System.String.concat("calc(",width," - (",left," + ",right," + ",paddingLeft," + ",paddingRight,"))"))},clearImageClicked:function(){Bridge.as($(SiteBuilder.App.contextMenuControlRef).children().get(0),HTMLInputElement).src="../images/default_image.jpg";var control=SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier));Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"source").s,control)(null)},closeMenu:function(){$(SiteBuilder.App.contextMenuControlRef).css("border","none");$("#contextMenu").css("visibility","hidden");SiteBuilder.App.contextMenuControlRef=null;SiteBuilder.App.contextMenuVisible=!1},deleteControl:function(){var element=$("#contextMenu");SiteBuilder.App.controls.remove(element.data(SiteBuilder.Constants.identifier));element.remove();SiteBuilder.ContextMenu.closeMenu()},moveDown:function(){var jElement=$(SiteBuilder.App.contextMenuControlRef),currentIndex=jElement.index();currentIndex!==(jElement.parent().children().length-1|0)&&SiteBuilder.Global.swapElements(SiteBuilder.App.contextMenuControlRef,$(SiteBuilder.App.contextMenuControlRef).parent().children().get(currentIndex+1|0))},moveUp:function(){var currentIndex=$(SiteBuilder.App.contextMenuControlRef).index();currentIndex!==0&&SiteBuilder.Global.swapElements(SiteBuilder.App.contextMenuControlRef,$(SiteBuilder.App.contextMenuControlRef).parent().children().get(currentIndex-1|0))},openMenu:function(type,element){var offsetBottom,contextMenu,control;$("#controlName").text(System.Enum.getName(SiteBuilder.ControlType,type));offsetBottom=($(element).offset().top+$(element).height()|0)+8|0;contextMenu=$("#contextMenu");contextMenu.css("top",offsetBottom.toString());contextMenu.css("visibility","visible");$(SiteBuilder.App.contextMenuControlRef).css("border","none");SiteBuilder.App.contextMenuControlRef=element;$(SiteBuilder.App.contextMenuControlRef).css("border","1px solid #FF3D00");control=SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier));SiteBuilder.ContextMenu.updateValues(control);SiteBuilder.App.contextMenuVisible=!0},updateValues:function(control){for(var prop,prop1,prop2,prop3,prop4,prop5,prop6,prop7,prop8,prop9,prop10,contextMenu=$("#contextMenu"),i=2;i<contextMenu.children().length;i=i+1|0)Bridge.referenceEquals(contextMenu.children().get(i).className,"divider")||contextMenu.children().eq(i).hide();control.hasOwnProperty("MarginLeft")&&($("#marginPropertyDiv").show(),System.String.isNullOrEmpty(control.getMarginLeft())?$("#marginLeftProperty").val(control.getMarginLeft()):$("#marginLeftProperty").val(""));control.hasOwnProperty("PaddingLeft")&&($("#paddingPropertyDiv").show(),prop=Bridge.cast(Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"paddingLeft").g,control).apply(null,null),String),System.String.isNullOrEmpty(prop)?$("#paddingLeftProperty").val(prop):$("#paddingLeftProperty").val(""));control.hasOwnProperty("Width")&&($("#positionPropertyDiv").show(),System.String.isNullOrEmpty(control.getWidth())?$("#widthProperty").val(control.getWidth()):$("#widthProperty").val(""));control.hasOwnProperty("Color")&&($("#colorPropertyDiv").show(),prop1=Bridge.cast(Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"color").g,control).apply(null,null),String),System.String.isNullOrEmpty(prop1)?$("#colorProperty").val(prop1):$("#colorProperty").val(""));control.hasOwnProperty("Elevation")&&($("#elevationPropertyDiv").show(),prop2=Bridge.cast(Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"elevation").g,control).apply(null,null),String),System.String.isNullOrEmpty(prop2)?$("#elevationProperty").val(prop2):$("#elevationProperty").val(""));control.hasOwnProperty("FontColor")&&($("#fontColorPropertyDiv").show(),prop3=Bridge.cast(Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"fontColor").g,control).apply(null,null),String),System.String.isNullOrEmpty(prop3)?$("#fontColorProperty").val(prop3):$("#fontColorProperty").val(""));control.hasOwnProperty("FontSize")&&($("#fontSizePropertyDiv").show(),prop4=Bridge.cast(Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"fontSize").g,control).apply(null,null),String),System.String.isNullOrEmpty(prop4)?$("#fontSizeProperty").val(prop4):$("#fontSizeProperty").val(""));control.hasOwnProperty("Height")&&($("#heightPropertyDiv").show(),System.String.isNullOrEmpty(control.getHeight())?$("#heightProperty").val(control.getHeight()):$("#heightProperty").val(""));control.hasOwnProperty("HorizontalAlignment")&&($("#horizontalAlignmentPropertyDiv").show(),prop5=Bridge.cast(Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"horizontalAlignment").g,control).apply(null,null),String),System.String.isNullOrEmpty(prop5)?$("#horizontalAlignmentProperty").val(prop5):$("#horizontalAlignmentProperty").val("left"));control.hasOwnProperty("HorizontalTextAlignment")&&($("#horizontalTextAlignmentPropertyDiv").show(),prop6=Bridge.cast(Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"horizontalTextAlignment").g,control).apply(null,null),String),System.String.isNullOrEmpty(prop6)?$("#horizontalTextAlignmentProperty").val(prop6):$("#horizontalTextAlignmentProperty").val("center"));control.hasOwnProperty("Inset")&&($("#insetPropertyDiv").show(),prop7=Bridge.cast(Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"inset").g,control).apply(null,null),String),System.String.isNullOrEmpty(prop7)?$("#insetProperty").val(prop7):$("#insetProperty").val(""));control.hasOwnProperty("Source")&&($("#sourcePropertyDiv").show(),prop8=Bridge.cast(Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"source").g,control).apply(null,null),String),System.String.isNullOrEmpty(prop8)&&System.String.contains(prop8,"C:\\")?$("#fileSourceProperty").val(prop8):$("#fileSourceProperty").val(""));control.hasOwnProperty("Text")&&($("#textPropertyDiv").show(),prop9=Bridge.cast(Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"text").g,control).apply(null,null),String),System.String.isNullOrEmpty(prop9)?$("#textProperty").val(prop9):$("#textProperty").val(""));control.hasOwnProperty("VerticalAlignment")&&($("#verticalAlignmentPropertyDiv").show(),prop10=Bridge.cast(Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"verticalAlignment").g,control).apply(null,null),String),System.String.isNullOrEmpty(prop10)?$("#verticalAlignmentProperty").val(prop10):$("#verticalAlignmentProperty").val("center"))},setBindings:function(){$("#marginLeftProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f1);$("#marginTopProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f2);$("#marginRightProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f3);$("#marginBottomProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f4);$("#paddingLeftProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f5);$("#paddingTopProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f6);$("#paddingRightProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f7);$("#paddingBottomProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f8);$("#leftProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f9);$("#topProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f10);$("#rightProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f11);$("#bottomProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f12);$("#widthProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f13);$("#heightProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f14);$("#colorProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f15);$("#elevationProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f16);$("#fileSourceProperty").on("change",$asm.$.SiteBuilder.ContextMenu.f17);$("#fontColorProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f18);$("#fontSizeProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f19);$("#heightProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f20);$("#horizontalAlignmentProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f21);$("#horizOntalTextAlignmentProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f22);$("#insetProperty").change($asm.$.SiteBuilder.ContextMenu.f23);$("#textProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f24);$("#verticalAlignmentProperty").on("input",$asm.$.SiteBuilder.ContextMenu.f25)}}});Bridge.ns("SiteBuilder.ContextMenu",$asm.$);Bridge.apply($asm.$.SiteBuilder.ContextMenu,{f1:function(){$(SiteBuilder.App.contextMenuControlRef).css("margin-left",$("#marginLeftProperty").val());SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier)).setMarginLeft($("#marginLeftProperty").val())},f2:function(){$(SiteBuilder.App.contextMenuControlRef).css("margin-top",$("#marginTopProperty").val());SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier)).setMarginTop($("#marginTopProperty").val())},f3:function(){$(SiteBuilder.App.contextMenuControlRef).css("margin-right",$("#marginRightProperty").val());SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier)).setMarginRight($("#marginRightProperty").val())},f4:function(){$(SiteBuilder.App.contextMenuControlRef).css("margin-bottom",$("#marginBottomProperty").val());SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier)).setMarginBottom($("#marginBottomProperty").val())},f5:function(){$(SiteBuilder.App.contextMenuControlRef).css("padding-left",$("#paddingLeftProperty").val());var control=SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier));Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"paddingLeft").s,control)($("#paddingLeftProperty").val());SiteBuilder.ContextMenu.calculateWidth(SiteBuilder.App.contextMenuControlRef)},f6:function(){$(SiteBuilder.App.contextMenuControlRef).css("padding-top",$("#paddingTopProperty").val());var control=SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier));Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"paddingTop").s,control)($("#paddingTopProperty").val())},f7:function(){$(SiteBuilder.App.contextMenuControlRef).css("padding-right",$("#paddingRightProperty").val());var control=SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier));Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"paddingRight").s,control)($("#paddingRightProperty").val());SiteBuilder.ContextMenu.calculateWidth(SiteBuilder.App.contextMenuControlRef)},f8:function(){$(SiteBuilder.App.contextMenuControlRef).css("padding-bottom",$("#paddingBottomProperty").val());var control=SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier));Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"paddingBottom").s,control)($("#paddingBottomProperty").val())},f9:function(){$(SiteBuilder.App.contextMenuControlRef).css("left",$("#leftProperty").val());SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier)).setLeft($("#leftProperty").val());SiteBuilder.ContextMenu.calculateWidth(SiteBuilder.App.contextMenuControlRef)},f10:function(){$(SiteBuilder.App.contextMenuControlRef).css("top",$("#topProperty").val());SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier)).setTop($("#topProperty").val())},f11:function(){SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier)).setRight($("#rightProperty").val());SiteBuilder.ContextMenu.calculateWidth(SiteBuilder.App.contextMenuControlRef)},f12:function(){$(SiteBuilder.App.contextMenuControlRef).css("bottom",$("#bottomProperty").val());SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier)).setBottom($("#bottomProperty").val())},f13:function(){SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier)).setWidth($("#widthProperty").val());SiteBuilder.ContextMenu.calculateWidth(SiteBuilder.App.contextMenuControlRef)},f14:function(){$(SiteBuilder.App.contextMenuControlRef).css("height",$("#heightProperty").val());SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier)).setHeight($("#heightProperty").val())},f15:function(){var Val=$("#colorProperty").val(),control=SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier));Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"color").s,control)(Val);System.String.contains(Val,"#")?$(SiteBuilder.App.contextMenuControlRef).css("background-color",Val):SiteBuilder.ControlExtensions.updateColors(SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier)))},f16:function(){var isInset=Bridge.referenceEquals($("#div-insetProperty:checked").val(),"on"),elevationValue=$("#elevatiOnProperty").val(),control;$(SiteBuilder.App.contextMenuControlRef).css("box-shadow",System.String.concat("0 ",isInset?"0 ":System.String.concat(elevationValue,"px "),System.Double.format(System.Convert.toInt32(elevationValue)+System.Convert.toInt32(elevationValue)*.5,"G"),"px rgba(0,0,0, .4)",isInset?" inset":""));$(SiteBuilder.App.contextMenuControlRef).css("z-index",Bridge.referenceEquals($("#insetProperty:checked").val(),"on")?"0":$("#elevationProperty").val());control=SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier));Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"elevation").s,control)($("#elevationProperty").val())},f17:function(){var control,control1;System.String.isNullOrEmpty($("#fileSourceProperty").val())?(SiteBuilder.Global.processFile($(SiteBuilder.App.contextMenuControlRef).children().get(0)),control=SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier)),Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"color").s,control)($("#urlSourceProperty").val())):(Bridge.as($(SiteBuilder.App.contextMenuControlRef).children().get(0),HTMLInputElement).src="../images/default_image.jpg",control1=SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier)),Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control1),16,272,"source").s,control1)(null))},f18:function(){var Val=$("#fontColorProperty").val(),control=SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier));Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"fontColor").s,control)(Val);System.String.contains(Val,"#")?$(SiteBuilder.App.contextMenuControlRef).css("color",Val):SiteBuilder.ControlExtensions.updateColors(SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier)))},f19:function(){$(SiteBuilder.App.contextMenuControlRef).css("font-size",$("#fontSizeProperty").val());SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier)).setVerticalAlignment($("#fontSizeProperty").val())},f20:function(){SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier)).getType()!==SiteBuilder.ControlType.Image?$(SiteBuilder.App.contextMenuControlRef).css("height",$("#heightProperty").val()):$(SiteBuilder.App.contextMenuControlRef).children().eq(0).css("height",$("#heightProperty").val());SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier)).setHeight($("#heightProperty").val())},f21:function(){$(SiteBuilder.App.contextMenuControlRef).css("float",$("#horizontalAlignmentProperty").val());var control=SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier));Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"horizontalAlignment").s,control)($("#horizontalAlignmentProperty").val())},f22:function(){$(SiteBuilder.App.contextMenuControlRef).css("text-align",$("#horizOntalTextAlignmentProperty").val());var control=SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier));Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"horizontalTextAlignment").s,control)($("#horizOntalTextAlignmentProperty").val())},f23:function(){var element=$("#insetProperty:checked"),control;Bridge.referenceEquals(element.val(),"on")&&!System.String.contains($(SiteBuilder.App.contextMenuControlRef).css("box-shadow"),"inset")&&$(SiteBuilder.App.contextMenuControlRef).css("box-shadow",System.String.concat($(SiteBuilder.App.contextMenuControlRef).css("box-shadow")," inset"));!Bridge.referenceEquals(element.val(),"on")&&System.String.contains($(SiteBuilder.App.contextMenuControlRef).css("box-shadow"),"inset")&&$(SiteBuilder.App.contextMenuControlRef).css("box-shadow",System.String.replaceAll($(SiteBuilder.App.contextMenuControlRef).css("box-shadow")," inset",""));$(SiteBuilder.App.contextMenuControlRef).css("z-index",Bridge.referenceEquals(element.val(),"on")?"0":$("#elevatiOnProperty").val());control=SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier));Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"inset").s,control)($("#insetProperty").val())},f24:function(){SiteBuilder.App.contextMenuControlRef.innerHTML=$("#textProperty").val().split("\n").join("<br>");var control=SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier));Bridge.Reflection.midel(Bridge.Reflection.getMembers(Bridge.getType(control),16,272,"text").s,control)($("#textProperty").val().split("\n").join("<br>"))},f25:function(){$(SiteBuilder.App.contextMenuControlRef).css("align-self",$("#verticalAlignmentProperty").val());SiteBuilder.App.controls.get($(SiteBuilder.App.contextMenuControlRef).data(SiteBuilder.Constants.identifier)).setVerticalAlignment($("#verticalAlignmentProperty").val())}});Bridge.define("SiteBuilder.ControlExtensions",{statics:{updateColors:function(control){for(var propertyInfo,val,cssAttr,themeProp,hashtag,$t=Bridge.getEnumerator(Bridge.Reflection.getMembers(Bridge.getType(control),16,16));$t.moveNext();)if(propertyInfo=$t.getCurrent(),Bridge.referenceEquals(propertyInfo.n,"updateColors")&&System.String.contains(propertyInfo.n.toLowerCase(),"colors")&&(val=Bridge.cast(Bridge.Reflection.midel(propertyInfo.g,control)(),String),System.Array.contains(System.Array.init(["primary","primaryDark","accent","background","backgroundDark","card","textPrimary","textSecondary","textDisabled","textPrimaryBlack","textSecondaryBlack","textDisabledBlack","textPrimaryWhite","textSecondaryWhite","textDisabledWhite"],String),val,String))){cssAttr="";switch(propertyInfo.n){case"color":cssAttr="background-color";break;case"fontColor":cssAttr="color"}themeProp=Bridge.cast(Bridge.Reflection.midel(Bridge.Reflection.getMembers(SiteBuilder.Theme,16,272,val).g,SiteBuilder.App.theme)(),String);hashtag=!System.String.contains(themeProp,"r")&&!System.String.contains(themeProp,"#")?"#":"";$(SiteBuilder.Global.getElementByIdentifier(control.getIdentifier())).css(cssAttr,System.String.concat(hashtag,themeProp))}}}});Bridge.define("SiteBuilder.ControlType",{$kind:"enum",statics:{Button:0,Container:1,Image:2,Label:3}});Bridge.define("SiteBuilder.Global",{statics:{listOffset:1e4,snackbar:null,move:function(T,list,oldIndex,newIndex){var item=list.getItem(oldIndex);list.removeAt(oldIndex);list.insert(newIndex,item)},getElementByIdentifier:function(id,element){var siteArea,i,search;for(element===void 0&&(element=null),element==null&&(element=document.getElementById("#siteArea")),siteArea=$(element).children(),i=0;i<siteArea.length;i=i+1|0){if($(siteArea.eq(i)).data(SiteBuilder.Constants.identifier)===id)return siteArea.eq(i);if($(siteArea.eq(i)).children().length>0&&Bridge.referenceEquals(siteArea.eq(i).get(0).nodeName,"I")&&(search=SiteBuilder.Global.getElementByIdentifier(id,siteArea.get(i)),search==null))return search}return null},isScrolledIntoView:function(element){var docViewTop=$(window.self).scrollTop(),docViewBottom=docViewTop+$(window.self).height()|0,elemTop=$(element).offset().top,elemBottom=elemTop+$(element).height()|0;return elemBottom<=docViewBottom&&elemTop>=docViewTop},populateList:function(childrenArray,iteration){for(var i=0;i<childrenArray.length;i=i+1|0)(function(){var control=SiteBuilder.App.controls.get($(childrenArray.eq(i)).data(SiteBuilder.Constants.identifier)),addedChild=$("<div class='listControl'><p>"+System.Enum.toString(SiteBuilder.ControlType,control.getType())+"<\/p><\/div>");addedChild.data(SiteBuilder.Constants.identifier,control.getIdentifier()+SiteBuilder.Global.listOffset|0);$("#controlsList").append(addedChild);addedChild.click($asm.$.SiteBuilder.Global.f1);$(addedChild).css("text-indent",16+(iteration*32|0)|0);control.getType()===SiteBuilder.ControlType.Container&&$(childrenArray.get(i)).children().length>0&&SiteBuilder.Global.populateList($(childrenArray.get(i)).children(),iteration+1|0)}).call(this)},processFile:function(element){var files=Bridge.as(element,HTMLInputElement).files,fr;files!=null&&files.length!==0&&(fr=Bridge.merge(new SiteBuilder.FileReader,{onload:function(){Bridge.as(element,HTMLInputElement).src=fr.result}}),fr.readAsDataURL(files[0]))},swapElements:function(from,$with){var parent1=null,next1=null,parent2=null,next2=null;parent1=from.parentNode;next1=from.nextSibling;parent2=$with.parentNode;next2=$with.nextSibling;parent1.insertBefore($with,next1);parent2.insertBefore(from,next2)},showSnackbar:function(text){var snackbarElement=System.String.concat("<div style='position: fixed; top: 100%' class='shadow-3' id='snackbar'>",text,"<button id='snackbarButton' onclick='closeSnackbar()'>Close<\/button><\/div>");SiteBuilder.Global.snackbar!=null?($(document.body).append(snackbarElement),SiteBuilder.Waves.attach("#snackbarButton"),SiteBuilder.Global.snackbar=$("#snackbar"),SiteBuilder.Global.snackbar.transition({y:"-64px"},300)):SiteBuilder.Global.snackbar.transition({y:"64px"},300,"easeInOutCubic",function(){SiteBuilder.Global.snackbar.remove();$(document.body).append(snackbarElement);SiteBuilder.Waves.attach("#snackbarButton");SiteBuilder.Global.snackbar=$("#snackbar");SiteBuilder.Global.snackbar.transition({y:"-64px"},300)})},closeSnackbar:function(){SiteBuilder.Global.snackbar!=null&&SiteBuilder.Global.snackbar.transition({y:"64px"},300,"easeInOutCubic",$asm.$.SiteBuilder.Global.f2)},supportsStorage:function(){return window.localStorage!=null},load:function(){var $t,savedKeys,key,saveName,entry,loadDialog;for($("#savesList").empty(),savedKeys=Storages.localStorage.keys(),$t=Bridge.getEnumerator(savedKeys);$t.moveNext();){if(key=$t.getCurrent(),Bridge.referenceEquals(key,"move"))break;System.String.contains(key,"controls")&&(saveName=key.split("_")[0],entry=$(System.String.concat("<p class='saveEntry'>",saveName,"<\/p>")),$("#savesList").append(entry),entry.click($asm.$.SiteBuilder.Global.f3))}SiteBuilder.Waves.attach(".saveEntry");loadDialog=$("#loadDialog");loadDialog.css("visibility","visible");loadDialog.animate($asm.$.SiteBuilder.Global.f4(new(System.Collections.Generic.Dictionary$2(String,System.Int32))),250)},loadProject:function(name){var $t,control,element;for(SiteBuilder.ContextMenu.closeMenu(),$("#siteArea").empty(),SiteBuilder.App.controls=Bridge.cast(window.self.localStorage.getItem(System.String.concat(name,"_controls")),System.Collections.Generic.Dictionary$2(String,SiteBuilder.Control)),$("#siteArea").append(Bridge.cast(window.self.localStorage.getItem(System.String.concat(name,"_elements")),String)),SiteBuilder.Control.id=System.Nullable.getValue(Bridge.cast(window.self.localStorage.getItem(System.String.concat(name,"_id")),System.Int32)),SiteBuilder.App.theme=Bridge.cast(window.self.localStorage.getItem(System.String.concat(name,"_theme")),SiteBuilder.Theme),$t=Bridge.getEnumerator(SiteBuilder.App.controls);$t.moveNext();)control=$t.getCurrent(),element=SiteBuilder.Global.getElementByIdentifier(control.value.getIdentifier()),element.click($asm.$.SiteBuilder.Global.f5);SiteBuilder.Global.dialogCancel("loadDialog")},save:function(){var saveDialog=$("#saveDialog");saveDialog.css("visibility","visible");saveDialog.animate($asm.$.SiteBuilder.Global.f6(new(System.Collections.Generic.Dictionary$2(String,System.Int32))),250)},dialogSave:function(){for(var control,element,saveName,$t=Bridge.getEnumerator(SiteBuilder.App.controls);$t.moveNext();)control=$t.getCurrent(),element=SiteBuilder.Global.getElementByIdentifier(control.value.getIdentifier()),element.attr("data-identifier",control.value.getIdentifier());saveName=$("#saveName").val();window.self.localStorage.setItem(System.String.concat(saveName,"_controls"),SiteBuilder.App.controls);window.self.localStorage.setItem(System.String.concat(saveName,"_elements"),$("#siteArea").html());window.self.localStorage.setItem(System.String.concat(saveName,"_id"),SiteBuilder.Control.id);window.self.localStorage.setItem(System.String.concat(saveName,"_theme"),SiteBuilder.App.theme);SiteBuilder.Global.dialogCancel("saveDialog")},dialogCancel:function(dialog){var dialogElement=$(System.String.concat("#",dialog));dialogElement.animate($asm.$.SiteBuilder.Global.f7(new(System.Collections.Generic.Dictionary$2(String,System.Int32))),250,"easeCubicInOut",function(){dialogElement.css("visibility","hidden")})}}});Bridge.ns("SiteBuilder.Global",$asm.$);Bridge.apply($asm.$.SiteBuilder.Global,{f1:function(e){SiteBuilder.Global.isScrolledIntoView(e.currentTarget)||$("#siteArea").stop().animate(function(_o1){return _o1.set("scrollTop",e.currentTarget.getBoundingClientRect().top),_o1}(new(System.Collections.Generic.Dictionary$2(String,System.Double))),400,"easeInOutCubic");var identifier=$(e.currentTarget).data(SiteBuilder.Constants.identifier)-SiteBuilder.Global.listOffset|0;SiteBuilder.ContextMenu.openMenu(SiteBuilder.App.controls.get(identifier.toString()).getType(),SiteBuilder.Global.getElementByIdentifier(identifier).get(0))},f2:function(){SiteBuilder.Global.snackbar.remove();SiteBuilder.Global.snackbar=null},f3:function(e){SiteBuilder.Global.loadProject($(e.currentTarget).text())},f4:function(_o2){return _o2.set("opacity",1),_o2},f5:function(e){SiteBuilder.ContextMenu.openMenu(SiteBuilder.App.controls.get($(e.currentTarget).data(SiteBuilder.Constants.identifier)).getType(),e.currentTarget);e.stopPropagation()},f6:function(_o3){return _o3.set("opacity",1),_o3},f7:function(_o4){return _o4.set("opacity",0),_o4}});Bridge.define("SiteBuilder.Theme",{statics:{updateThemePanel:function(){$("#theme-Primary").val(System.String.replaceAll(SiteBuilder.App.theme.getPrimary(),"#",""));$("#theme-PrimaryDark").val(System.String.replaceAll(SiteBuilder.App.theme.getPrimaryDark(),"#",""));$("#theme-Accent").val(System.String.replaceAll(SiteBuilder.App.theme.getAccent(),"#",""));$("#theme-Theme").val(System.String.contains(SiteBuilder.App.theme.getBackground(),"EEE")?"light":"dark")},setThemeBindings:function(){$("#theme-Theme").on("change",$asm.$.SiteBuilder.Theme.f1);$("#theme-Primary").on("input",$asm.$.SiteBuilder.Theme.f2);$("#theme-PrimaryDark").on("input",$asm.$.SiteBuilder.Theme.f3);$("#theme-Accent").on("input",$asm.$.SiteBuilder.Theme.f4)},updateAllColors:function(){for(var control,$t=Bridge.getEnumerator(SiteBuilder.App.controls);$t.moveNext();)control=$t.getCurrent(),SiteBuilder.ControlExtensions.updateColors(control.value)}},config:{properties:{Primary:"#009688",PrimaryDark:"#00796B",Accent:"#FF5722",Background:"#EEE",BackgroundDark:"#E0E0E0",Card:"#FFF",TextPrimary:"rgba(0,0,0, .87)",TextSecondary:"rgba(0,0,0, .54)",TextDisabled:"rgba(0,0,0, .38)",TextPrimaryBlack:"rgba(0,0,0, .87)",TextSecondaryBlack:"rgba(0,0,0, .54)",TextDisabledBlack:"rgba(0,0,0, .38)",TextPrimaryWhite:"rgba(255,255,255, 1)",TextSecondaryWhite:"rgba(255,255,255, .7)",TextDisabledWhite:"rgba(255,255,255, .5)"}}});Bridge.ns("SiteBuilder.Theme",$asm.$);Bridge.apply($asm.$.SiteBuilder.Theme,{f1:function(){Bridge.referenceEquals($("#theme-Theme").val(),"light")?(SiteBuilder.App.theme.setBackground("#EEE"),SiteBuilder.App.theme.setBackgroundDark("#E0E0E0"),SiteBuilder.App.theme.setCard("#FFF"),SiteBuilder.App.theme.setTextPrimary("rgba(0,0,0, .87)"),SiteBuilder.App.theme.setTextSecondary("rgba(0,0,0, .54)"),SiteBuilder.App.theme.setTextDisabled("rgba(0,0,0, .38)")):(SiteBuilder.App.theme.setBackground("#303030"),SiteBuilder.App.theme.setBackgroundDark("#212121"),SiteBuilder.App.theme.setCard("#424242"),SiteBuilder.App.theme.setTextPrimary("rgba(255,255,255, 1)"),SiteBuilder.App.theme.setTextSecondary("rgba(255,255,255, .7)"),SiteBuilder.App.theme.setTextDisabled("rgba(255,255,255, .5)"));SiteBuilder.Theme.updateAllColors()},f2:function(){SiteBuilder.App.theme.setPrimary($("#theme-Primary").val());SiteBuilder.Theme.updateAllColors()},f3:function(){SiteBuilder.App.theme.setPrimaryDark($("#theme-PrimaryDark").val());SiteBuilder.Theme.updateAllColors()},f4:function(){SiteBuilder.App.theme.setAccent($("#theme-Accent").val());SiteBuilder.Theme.updateAllColors()}});Bridge.define("SiteBuilder.Waves",{statics:{attach:function(selector){Waves.attach(selector)}}});Bridge.define("SiteBuilder.ButtonControl",{inherits:[SiteBuilder.Control],config:{properties:{Color:null,FontColor:null,FontSize:null,Text:null}},ctor:function(){this.$initialize();SiteBuilder.Control.ctor.call(this);var $t;this.setType(SiteBuilder.ControlType.Button);this.setIdentifier(Bridge.identity(SiteBuilder.Control.id,($t=SiteBuilder.Control.id+1|0,SiteBuilder.Control.id=$t,$t)))}});Bridge.define("SiteBuilder.ContainerControl",{inherits:[SiteBuilder.Control],config:{properties:{Color:null,Elevation:0,Inset:!1,PaddingLeft:null,PaddingTop:null,PaddingRight:null,PaddingBottom:null,Children:null}},ctor:function(){this.$initialize();SiteBuilder.Control.ctor.call(this);var $t;this.setType(SiteBuilder.ControlType.Container);this.setIdentifier(Bridge.identity(SiteBuilder.Control.id,($t=SiteBuilder.Control.id+1|0,SiteBuilder.Control.id=$t,$t)))}});Bridge.define("SiteBuilder.ImageControl",{inherits:[SiteBuilder.Control],config:{properties:{Aspect:null,Elevation:0,Source:null}},ctor:function(){this.$initialize();SiteBuilder.Control.ctor.call(this);var $t;this.setType(SiteBuilder.ControlType.Image);this.setIdentifier(Bridge.identity(SiteBuilder.Control.id,($t=SiteBuilder.Control.id+1|0,SiteBuilder.Control.id=$t,$t)))}});Bridge.define("SiteBuilder.LabelControl",{inherits:[SiteBuilder.Control],config:{properties:{FontColor:null,FontSize:null,HorizontalTextAlignment:null,Text:null}},ctor:function(){this.$initialize();SiteBuilder.Control.ctor.call(this);var $t;this.setType(SiteBuilder.ControlType.Label);this.setIdentifier(Bridge.identity(SiteBuilder.Control.id,($t=SiteBuilder.Control.id+1|0,SiteBuilder.Control.id=$t,$t)))}})});